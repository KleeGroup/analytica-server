<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript" src="http://d3js.org/d3.v3.js"></script>

		<style type="text/css">
			.background {
				stroke: #808080;
				stroke-width: 1;
				fill: none;
			}

			.area{
				fill: #ADD8E6;                  
    			stroke-width: 0px;     
			}

			.axis path, .axis line {
			  fill: none;
			  stroke: #000;
			  shape-rendering: crispEdges;
			}

			.metrics-container {
	width: auto;
	height: auto;
	padding: 10px 10px 10px 10px;
	border-style: solid;
	border-width: 1px;
	float: left;
	margin-left: 20px;
	margin-top: 20px;
}

			
		</style>			

	</head>

	<body>

 		<div id ="box6"></div>
 		<div id = "line"></div>
 	

		<script type="text/javascript">
			var drawPieChart = function(data,id){
				var w = 400;
				var h = 200;
				var r = h/2;
				var color = d3.scale.category20c();

				var chart = d3.select('#'+id).append("svg:svg").data([data]).attr("width", w).attr("height", h).append("svg:g").attr("transform", "translate(" + r + "," + r + ")");
				var arc = d3.svg.arc().outerRadius(r);
				var pie = d3.layout.pie().value(function(d){return d.value;
				                                            });
				var arcs = chart.selectAll("g.slice").data(pie).enter().append("svg:g").attr("class", "slice");
				arcs.append("svg:path").attr("fill", function(d, i){
				    return color(i);}).attr("d", arc);
				arcs.append("svg:text").attr("transform", function(d){
							d.innerRadius = 0;
							d.outerRadius = r;
				    return "translate(" + arc.centroid(d) + ")";}).attr("text-anchor", "middle").text( function(d, i) {
				    return data[i].label;}
						);
			   }
			</script>


			<script type="text/javascript">
				var plot = function(data,id){
					var margin = {top: 50, right: 50, bottom: 50, left: 50};
					var height = 400;
					var width = 500;
					width = width - margin.left - margin.right;
					height = height - margin.top - margin.bottom;
					var graph = d3.select("#"+id).append("svg:svg").attr("width", width+margin.left+margin.right).attr("height", height+margin.top+margin.bottom).attr("class", "metrics-container")
					.append("g")
			    	.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

					// X scale will fit values from 0-10 within pixels 0-100
					var x = d3.scale.linear().domain([0, data.length]).range([0, width]); 
					
					// Y scale will fit values from 0-10 within pixels 0-100
					var y = d3.scale.linear().domain([0, d3.max(data)]).range([0, height]);
			 		
			 		var xAxis = d3.svg.axis()
						.scale(x)
						.orient("bottom");

					var yLeftAxis = d3.svg.axis()
						.scale(y)
						.orient("left");

					graph.append("g")
						.attr("class", "x axis")
						.attr("transform", "translate(0," + height + ")")
						.call(xAxis)
						.selectAll("text")  
				            .style("text-anchor", "end")
				            .attr("dx", "-.8em")
				            .attr("dy", ".15em")
				            ;

					graph.append("g")
						.attr("class", "y axis")
						.attr("fill","#808080")
						.call(yLeftAxis)
						.append("text")
					    .attr("transform", "rotate(-90)")
					    .attr("y", 2)
					    .attr("dy", ".71em")
				      	.style("text-anchor", "end");

					// create a line object that represents the SVN line we're creating
					var line = d3.svg.line()
					.x(function(d,i) {console.log(x(i)); return x(i);})
					.y(function(d) { return height-y(d);})

					var area = d3.svg.area()
					.x(function(d,i) { return x(i);})
					.y0(height)
					.y1(function(d) { return height-y(d);})

					graph.append("svg:path").attr("d", line(data)).style("stroke", function() { return "#808080";
					})
		.style("fill", "none")
		.style("stroke-width", "1");
					graph.append("svg:path").datum(data).attr("class", "area").attr("d", area);
				}

			</script>
			<script type="text/javascript">


					var data = [{"label":"PAGE/Artist", "value":80}, 
						          {"label":"PAGE/Search", "value":10}, 
						          {"label":"PAGE/Home", "value":30}];
					drawPieChart(data,"box6");

					data = [15, 2, 21, 8, 13, 11, 9, 10, 7, 17,22,8,14,25,5,11,5,18,8,25,4,19,2,20,8,0,1,2,9,5,4];
					plot(data,"line")

			</script>

	</body>
</html>