 <div>
 <div class="ui-widget-header ">
    <i class="{{htmlIcon}}"></i>
    <h>{{htmlTitle}}</h>
  </div>
  <div>
<table class="table table-bordered mixed-table paginated table-hover table-striped-override">
  <caption>{{title}}</caption>
  <thead>
    <tr >
      {{#each headers}}
        <th>{{value}}</th>
      {{/each}}
      {{! will generate something like <th>FirstName</th>
      <th>LastName</th>
      <th>Address</th>
      <th>Loyalty</th> }}
    </tr>
  </thead>
  <tbody>
    {{#each collection}}
    {{! Line content}}
        {{> _tableLine}}
   {{/each}}
  </tbody>
</table>
</div>
</div>

<script type="text/javascript">

$('table.paginated').each(function() {
    var currentPage = 0;
    var numPerPage = 10;
    var $table = $(this);
    $table.bind('repaginate', function() {
        $table.find('tbody tr').hide().slice(currentPage * numPerPage, (currentPage + 1) * numPerPage).show();
    });
    $table.trigger('repaginate');
    var numRows = $table.find('tbody tr').length;
    var numPages = Math.ceil(numRows / numPerPage);
    var $pager = $('<div class="pager"></div>');

    var vArray = []
    for (var page = 0; page < numPages; page++) {
      
        $('<span class="page-number"></span>').text(page + 1).bind('click', {
            newPage: page
        }, function(event) {
            currentPage = event.data['newPage'];

            $table.trigger('repaginate');
            $(this).addClass('active').siblings().removeClass('active');
            var validator = $.inArray(currentPage,vArray);

          if(currentPage !== 0){
            if(validator === -1){
            
               $('.line-spark').sparkline('html', {
                width:80,
                height:12,
                type: 'line',
                lineColor: '#33B5E5'
              });
              $('.bar-spark').sparkline('html', {
                height: 12,
                type: 'bar',
                barColor: '#33B5E5'
              });
            }
          }
            vArray.push(currentPage);
            
        }).appendTo($pager).addClass('clickable');
    }
    $pager.insertAfter($table).find('span.page-number:first').addClass('active');
});

$('.line-spark').sparkline('html', {
              width:80,
              height:12,
              type: 'line',
              lineColor: '#33B5E5'
            });
            $('.bar-spark').sparkline('html', {
              height: 12,
              type: 'bar',
              barColor: '#33B5E5'
            });
  
</script>

{{!
  Sample object to inject in the template
     var table =  {
      title: 'Title of the tab',
      headers:[{value: 'Column 1'},{value: 'Column 2'}, {value: 'Column 3'}, {value: 'Column 4'}],
      collection: [
        {lineId: 1, value1:'ppppp', value2:'oooooo', value3: 'ssssssss', value4: 'sjchsjchsjch'},
        {lineId: 2, value1:'ppppp3', value2:'oooooo4', value3: 'ssssssss5', value4: 'sjchsjchsjch6'}
      ]
  };
  //How to use the template and insert it i the dom.
  $('div#tableToShow').html(Handlebars.templates.table(table)); 
}}